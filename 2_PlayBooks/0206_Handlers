Handlers

Es una tarea que sólo se ejecutará en caso de que otra tarea la llame.

Su uso mas comun es reiniciar un servicio cuando se cambie la configuración.  Siempre se ejecutan al final de playbook

Ej:
tasks:
  - name Configurar sshd_config
    copy: src=sshd_config.new dest=/etc/sshd_config_new
    notify: reiniciar_sshd

handlers:
  - name: reiniciar_ssh
    servoce: name=sshd state= restarted

Ej:
# cat sshd.yml
---
- name: Actiualizar config sshd_config
  hosts: localhost
  connection: local
  tasks:
    - name: Copiar fichero
      copy: src=sshd_config_OLD dest=sshd_config
      notify: reinicia_sshd
  handlers:
    - name: reinicia_sshd
      service: name=sshd state=restarted
...
