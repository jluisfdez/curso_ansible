Módulos de fichero y  OpenSSL

Fichero: Permite trabajar con ficheros, plantillas y directorios

- acl: Establece y obtiene información de listas de control de acceso (ACLs).
- archive: crea un fichero comprimido a partir de una lista de ficheros o estructura de directorios.
- assemble: Ensambla un fichero de configuracion desde distintos fragmentos.
- find : devuelve una lista de ficheros a partir de un patrón dado
- inifile: gestiona valores de un fichero ini.
- iso.extract: Extrae ficheros de una imagen ISO.
- patch: Aplica parches ustilizando GNUpatch
- replace: Reemplaza las coincidencias d eun texto especificado por otro indicado.
- synchronize: Módulo para sincronizar usanto rsync
- tempfile: Para crear ficheros o directorio temporales
- xattr:  Establece/obtiene atributos extendido 

X explicar mas en detalle:

- blockinfile: Inserta/actualiza/elimina un bloque de texto de un fichero.

- copy: copia ficheros a ubicaciones remotas.
Obligatorios:
  dest=/directorio/fichero
Opcionales:
  backup=yes/no (previamente crea una copia de seguridad)
  content="contenido"
  force=yes/no  (yes=copia aunque exista, no=solo copia si no existe)
  owner=usuario 
  group=grupo
  mode=modo  (644 o u=rw, etc)
  source=/directorio/fichero

EJ:
# cat copy.yml
- name: Playbook para usar el modulo copy
  hosts: localhost
  tasks:
    - name: Copiar
      copy: src=prueba.conf dest=/tmp/prueba.conf
            owner=joseluis group=joseluis
# cat crea.yml
- name: Playbook para usar el modulo copy
  hosts: localhost
  tasks:
    - name: Copiar
      copy: content="Iba por Canalejas" dest=/tmp/prueba.conf
            owner=joseluis group=joseluis


- fetch: obtiene ficheros d eun nodo remoto.

- file : establece atributos a ficheros
Obligatorios:
  path=/directorio/fichero
Opcionales:
  backup=yes/no (previamente crea una copia de seguridad)
  force=yes/no  (yes=copia aunque exista, no=solo copia si no existe)
  owner=usuario 
  group=grupo
  mode=modo  (644 o u=rw, etc)
  state= file* , link, hard, directory (lo crea), touch (lo crea), absent (lo borra si existe)

Ej: 
# cat  file_cambiarPermiso.yml
- name: Playbook para usar el modulo file para cambiar permisos
  hosts: localhost
  tasks:
    - name: Cambiar permisos
      #      file: dest=/tmp/prueba.conf mode="u=rwx,g=rx,o=r"
      file: dest=/tmp/prueba.conf mode="644"
            owner=joseluis group=joseluis
# cat file_ExisteOno.yml
- name: Playbook para usar el modulo file para ver si existe o no fichero/directorio
  hosts: localhost
  tasks:
    - name: Carpeta
      file: path=/tmp/prueba.d state=directory
            owner=joseluis group=joseluis
    - name: Existe fich
      file: path=/tmp/prueba2.conf state=absent mode="644"
            owner=joseluis group=joseluis

- lineinfile: Asegura que una linea está en un fichero, o reemplaza una linea usando expresiones regurlares.

- stat: obtiene información del fichero o sistemas de ficheros.

- template: copia y procesa una plantilla a un nodo remoto.
Obligatorios:
  dest=/directorio/fichero
  src=/directorio/fichero
Opcionales:
  backup=yes/no (previamente crea una copia de seguridad)
  force=yes/no  (yes=copia aunque exista, no=solo copia si no existe)
  owner=usuario 
  group=grupo
  mode=modo  (644 o u=rw, etc)
  
Ej:
# cat template.yml
- name: Playbook para usar el modulo template
  hosts: localhost
  tasks:
    - name: Copiar via template
      template: src=prueba.conf dest=/tmp/prueba.conf
            backup=yes owner=joseluis group=joseluis


- unarchive: extrae un fichero (opcionalmente despues de copiarlo)


OpenSSL: Los módulos para openSSL son los siguientes:

- openssl_privatekey:  Para tratar claves privadas usando openSSL

- openssl_publickey:  Para tratar claves publica usando openSSL

a
